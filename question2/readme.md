## database design ที่เคยเลือกใช้
# Understanding the purpose of data
การทำความเข้าใจว่า database นั้น ๆ จะใช้ทำอะไรและใช้เพื่อใคร เป็น concept คร่าว ๆ ที่ต้องเขียนไว้ก่อนที่จะลงมือออกแบบ schema ของ database เพื่อทำให้ไม่ลืม core ของสิ่งที่เราจะทำ ก่อนที่จะนึกถึง feature เสริมอื่น ๆ 
ปัญหาที่เจอ
ปัญหาหลัก ๆ ที่เคยเจอเลยคือตอนที่เขียน concept แล้วมัน คร่าว จนเกินไปจนเกิดความสับสนเวลาเริ่มทำ schema
วิธีแก้ปัญหาที่เจอ
ส่วนมากแล้วผมชอบเขียนตัว purpose ของ data ให้ละเอียดเอาไว้ก่อน โดยเฉพาะส่วนสำคัญของ table นั้น ๆ เช่น ออกแบบ database สำหรับนักเรียน ผมก็มักจะลงรายละเอียดของนักเรียนให้ลึกขึ้น เช่น นักเรียนใน context นี้ต้องมีอะไรใน table บ้าง

# Consistent naming conventions
ปัญหาที่ยากที่สุดของ database ที่มี column มากมายก็คือชื่อ โดยแต่ละโปรเจคหรือแต่ละ organization ควรมี format การตั้งชื่อที่เหมือนกันเพื่อไม่ให้เกิดความสับสน หรือ ไม่สามารถนึกชื่อได้
ปัญหาที่เจอ 
เวลาใช้ ORM แล้วแยกไม่ออกระหว่างชื่อที่เหมือน ๆ กัน เช่น name ของ table user กับ name ของ table animal
วิธีแก้ปัญหาที่เจอ
ใส่ชื่อตารางไว้ในชื่อ column เช่น userName , animalName

# Normorlization 
การแยกย่อย data โดยแยก table ต่าง ๆ เพื่อให้ง่ายที่จะใช้งานและเป็นระเบียบจัดการได้ง่าย
ปัญหาที่เจอ 
การแยกย่อย data บางอย่างที่เป็น optional และหลากมาก ๆ หรือเป็น data ที่ต้องเพิ่มตัวแปรใหม่ ๆ ตลอด ส่วนใหญ่จะเจอปัญหาจากการแยกย่อยเพื่อให้ง่ายกลับกลายเป็นเรื่องที่ยากกว่าเดิม
วิธีแก้ปัญหาที่เจอ
ส่วนมากข้อมูลต่าง ๆ ถ้า flexible มาก ๆ ผมก็จะเลือกเก็บในรูปแบบของ JSONb เพื่อให้ง่ายต่อการอ่านและเขียน